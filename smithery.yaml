# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

version: 1
start:
  type: http
  configSchema:
    type: object
    required:
      - discordToken
    properties:
      discordToken:
        type: string
        description: Discord bot token. Obtain this from the Discord Developer Portal.
      port:
        type: number
        description: Port number for the HTTP server
        default: 3000
  command: 
    function: |
      (config) => ({
        command: 'node',
        args: [
          'build/index.js',
          '--transport',
          'http',
          '--port',
          config.port || 3000,
          '--config',
          config.discordToken
        ],
        env: {
          NODE_ENV: 'production'
        }
      })
  exampleConfig:
    discordToken: YOUR_DISCORD_BOT_TOKEN
    port: 3000
